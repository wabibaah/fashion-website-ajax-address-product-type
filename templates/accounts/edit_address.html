{% extends 'base.html' %} {% block content %}
<section class="section-content padding-y bg">
  {% include 'includes/alerts.html' %}
  <div class="container">
    <div class="row">
      <!-- dashboard sidebar -->
      {% include 'includes/dashboard_sidebar.html' %}
      <main class="col-md-9">
        <article class="card">
          <header class="card-header">
            <span><strong class="d-inline-block mr-3">Your Address List: </strong></span>
            <span>Manage your <b>Addresses</b> and delivery preferences</span>
            <hr />
            <span>This is the address for your delivery. Add as many as you want.</span>
          </header>
          <div class="card-body">
            <div class="container px-0">
              <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                <form
                  name="address_form"
                  class="account-form"
                  method="post"
                  enctype="multipart/form-data"
                >
                  {% if address_form.errors %}
                  <div class="alert alert-primary" role="alert">
                    Error: All fields are required!
                  </div>
                  {% endif %} {% csrf_token %}
                  <label class="small fw-bold">{{ address_form.full_name.label}}</label>
                  {{ address_form.full_name }}
                  <label class="small fw-bold">{{ address_form.phone.label}}</label>
                  {{ address_form.phone }}
                  <label class="small fw-bold">{{ address_form.address_line.label}}</label>
                  {{ address_form.address_line }}
                  <label class="small fw-bold">{{ address_form.address_line2.label}}</label>
                  {{ address_form.address_line2 }}
                  <label class="small fw-bold">{{ address_form.town_city.label}}</label>
                  {{ address_form.town_city }}
                  <label class="small fw-bold">{{ address_form.region.label}}</label>
                  {{ address_form.region }}
                  <label class="small fw-bold">{{ address_form.postcode.label}}</label>
                  {{ address_form.postcode }}
                  <button
                    class="btn btn-primary btn-block py-2 mb-4 mt-4 fw-bold w-100"
                    type="button"
                    value="Submit"
                    onclick="submitForm()"
                  >
                    Add Address
                  </button>
                </form>
              </div>
            </div>
            <!-- row.// -->
          </div>
          <!-- card-body .// -->
        </article>
        <!-- order-group.// -->
      </main>
    </div>
    <!-- row.// -->
  </div>
</section>

<script>
  function submitForm() {
    var form = document.getElementsByName("address_form")[0];
    form.submit(); // submit the form
    form.reset(); // reset all form data
    return false; // prevent page refresh
  }
</script>

{% endblock %}
